** Created on: 3/28/2021 8:18:24 PM
**Added on:3/28/2021 8:18:32 PM
Level: Debug, Event ID: 20100
, State: Executing DbCommand [Parameters=[@__stock_0='?'], CommandType='Text', CommandTimeout='30']
-- FilteredIncludesQE3

SELECT "c"."CategoryName" AS "CategoryID", COUNT(CASE
    WHEN "t"."ProductID" IS NOT NULL THEN 1
END) AS "TotalProduct", COALESCE(SUM(CAST("t"."UnitsInStock" AS INTEGER)), 0) AS "TotalStock", AVG(CAST(CAST("t"."UnitsInStock" AS INTEGER) AS REAL)) AS "AverageCost"
FROM "Categories" AS "c"
LEFT JOIN (
    SELECT "p"."ProductID", "p"."CategoryID", "p"."UnitsInStock"
    FROM "Products" AS "p"
    WHERE "p"."UnitsInStock" > @__stock_0
) AS "t" ON "c"."CategoryID" = "t"."CategoryID"
GROUP BY "c"."CategoryName"
